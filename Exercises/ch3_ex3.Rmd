---
title: "geniusR_answer3Text"
author: "Anna"
date: "2024-02-05"
output: word_document
---

First, you need to install or load *quanteda*.
```{r warning=FALSE}
library(quanteda)
```

```{r warning=FALSE}
we_love_R <- c("R is fun to learn, and there is so much to do.")
we_love_data <- c("Loading datasets into R and exploring them is great. 
                  We can learn so many new things about whatever interests us.")
we_love_QTA <- c("QTA is fun, too. 
                 We can use so much text it is difficult to read everything and analyse it.
                 We can even create colorfull plots!")
what_we_love <- c(we_love_R, we_love_data, we_love_QTA)
```

```{r warning=FALSE}
what_we_love_corpus <- corpus(what_we_love)
summary(what_we_love_corpus)
```
2) First, you need to load or install the required packages for this exercise. You need *readtext* and *quanteda*.
```{r warning=FALSE}
library(readtext)
library(quanteda)
```
Go to the polidoc site and choose countries, years, or parties you are interested in. I chose the national manifestos of the  2010 election in the Czech Republic. Download them into a folder in your R working directory; my subfolder is exercise3. Your dataframe needs a name; I chose df_polidoc.
```{r warning=FALSE}
df_polidoc <- readtext(paste0(datadir,"/exercise3"), encoding="UTF8")
head(df_polidoc)
```

The corpus() function applied to the dataframe df_polidoc results in a corpus, which I called corpus_polidoc.
```{r warning=FALSE}
corpus_polidoc <- corpus(df_polidoc)
summary(corpus_polidoc, n=5)
```


3) If you choose the genius API, go to this website: [https://docs.genius.com/#/getting-started-h1](https://docs.genius.com/#/getting-started-h1), which tells you how to get started with the Genius API. First we register and get a client id, secret and access token.
Back in R, you need to load or install *geniusr*. To get more info on how to use the API we visit [https://ewenme.github.io/geniusr/](https://ewenme.github.io/geniusr/)
```{r warning=FALSE}
library(geniusr)
```

You can save your access token by entering it manually after running this line: NOT IN GLOBAL ENV
```{r warning=FALSE, include=FALSE, echo=T}
genius_token()
```

Now we wanted to check, if loading the lyrics of a song is legal, so we check:
```{r warning=FALSE}
library(robotstxt)
```

```{r}
paths_allowed("https://genius.com/Nura-fair-lyrics")
```
Additionally check the documentation on their website.

The geniusr documentation tells us how to find a song.
First we need the song ID, which we get by searching for the song:
```{r}
search_song("fair Nura", n_results = 5)
```
The first result is my favourite song, so we can now access the lyrics through the ID.

This is a dataframe with informations about the song and the album it is on:
```{r}
get_song_df("7105453")
```




And here is the lyrics:
```{r}
get_lyrics_id(song_id = "7105453")
```
Alternatively you could get the lyrics through the song url as well:
```{r}
get_lyrics_url("https://genius.com/Nura-fair-lyrics")
```



